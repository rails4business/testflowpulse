<%= link_to post_path(post), class: "block group" do %>
  <article class="w-full p-4 md:p-5 bg-white rounded-xl border border-slate-200 shadow-sm hover:shadow-md transition">
    <div class="flex flex-col md:flex-row gap-4 md:gap-5">
      <% if post.img_orizontal_url.present? || post.img_square_url.present? %>
        <div class="md:w-56 md:shrink-0">
          <div class="overflow-hidden rounded-lg border border-slate-200">
            <img
              src="<%= post.img_orizontal_url || post.img_square_url %>"
              alt="<%= post.title %>"
              class="w-full h-48 md:h-32 object-cover transition group-hover:scale-[1.02]"
              loading="lazy"
            >
          </div>
        </div>
      <% end %>

      <div class="min-w-0 flex-1">
        <div class="flex items-center gap-2 text-xs font-semibold">
          <% if post.published_at.present? %>
            <time datetime="<%= post.published_at.iso8601 %>"
                  class="inline-flex items-center rounded-full bg-emerald-50 text-emerald-700 px-2 py-0.5 ring-1 ring-emerald-200">
              Pubblicato Â· <%= l(post.published_at, format: :short) %>
            </time>
          <% else %>
            <span class="inline-flex items-center rounded-full bg-amber-50 text-amber-700 px-2 py-0.5 ring-1 ring-amber-200">
              Bozza
            </span>
          <% end %>
        </div>

        <h2 class="mt-2 text-lg md:text-xl font-bold text-slate-900 group-hover:text-blue-700">
          <%= post.title.presence || "Senza titolo" %>
        </h2>

        <% if post.description.present? %>
          <p class="mt-2 text-sm text-slate-600">
            <%= truncate(post.description.to_s, length: 180) %>
          </p>
        <% end %>
      </div>
    </div>
  </article>
<% end %>
